# This file is generated by code/generate-formatter-check.sh
# Do not edit it manually
steps:
  formatting-check:
    image: nixos/nix:latest
    environment:
      NIX_CONFIG: "experimental-features = nix-command flakes"
    commands:
      - |
        NIX_ARCH=$(nix eval --raw --expr 'builtins.currentSystem')
        echo "Current system platform: ${NIX_ARCH}"

        echo "Running formatting check for ${NIX_ARCH}..."
        nix build -L .#checks.${NIX_ARCH}."formatting"

when:
  event:
    - pull_request
    - push
